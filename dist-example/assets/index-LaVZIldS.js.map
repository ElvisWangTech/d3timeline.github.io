{"version":3,"file":"index-LaVZIldS.js","sources":["../../node_modules/d3-array/src/ascending.js","../../node_modules/d3-array/src/descending.js","../../node_modules/d3-array/src/bisector.js","../../node_modules/d3-array/src/number.js","../../node_modules/d3-array/src/bisect.js","../../node_modules/d3-array/src/extent.js","../../node_modules/d3-array/src/ticks.js","../../node_modules/d3-axis/src/identity.js","../../node_modules/d3-axis/src/axis.js","../../node_modules/d3-dispatch/src/dispatch.js","../../node_modules/d3-selection/src/namespaces.js","../../node_modules/d3-selection/src/namespace.js","../../node_modules/d3-selection/src/creator.js","../../node_modules/d3-selection/src/selector.js","../../node_modules/d3-selection/src/selection/select.js","../../node_modules/d3-selection/src/array.js","../../node_modules/d3-selection/src/selectorAll.js","../../node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/d3-selection/src/matcher.js","../../node_modules/d3-selection/src/selection/selectChild.js","../../node_modules/d3-selection/src/selection/selectChildren.js","../../node_modules/d3-selection/src/selection/filter.js","../../node_modules/d3-selection/src/selection/sparse.js","../../node_modules/d3-selection/src/selection/enter.js","../../node_modules/d3-selection/src/constant.js","../../node_modules/d3-selection/src/selection/data.js","../../node_modules/d3-selection/src/selection/exit.js","../../node_modules/d3-selection/src/selection/join.js","../../node_modules/d3-selection/src/selection/merge.js","../../node_modules/d3-selection/src/selection/order.js","../../node_modules/d3-selection/src/selection/sort.js","../../node_modules/d3-selection/src/selection/call.js","../../node_modules/d3-selection/src/selection/nodes.js","../../node_modules/d3-selection/src/selection/node.js","../../node_modules/d3-selection/src/selection/size.js","../../node_modules/d3-selection/src/selection/empty.js","../../node_modules/d3-selection/src/selection/each.js","../../node_modules/d3-selection/src/selection/attr.js","../../node_modules/d3-selection/src/window.js","../../node_modules/d3-selection/src/selection/style.js","../../node_modules/d3-selection/src/selection/property.js","../../node_modules/d3-selection/src/selection/classed.js","../../node_modules/d3-selection/src/selection/text.js","../../node_modules/d3-selection/src/selection/html.js","../../node_modules/d3-selection/src/selection/raise.js","../../node_modules/d3-selection/src/selection/lower.js","../../node_modules/d3-selection/src/selection/append.js","../../node_modules/d3-selection/src/selection/insert.js","../../node_modules/d3-selection/src/selection/remove.js","../../node_modules/d3-selection/src/selection/clone.js","../../node_modules/d3-selection/src/selection/datum.js","../../node_modules/d3-selection/src/selection/on.js","../../node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/d3-selection/src/selection/iterator.js","../../node_modules/d3-selection/src/selection/index.js","../../node_modules/d3-selection/src/select.js","../../node_modules/d3-selection/src/sourceEvent.js","../../node_modules/d3-selection/src/pointer.js","../../node_modules/d3-drag/src/noevent.js","../../node_modules/d3-drag/src/nodrag.js","../../node_modules/d3-color/src/define.js","../../node_modules/d3-color/src/color.js","../../node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-interpolate/src/color.js","../../node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-interpolate/src/numberArray.js","../../node_modules/d3-interpolate/src/array.js","../../node_modules/d3-interpolate/src/date.js","../../node_modules/d3-interpolate/src/number.js","../../node_modules/d3-interpolate/src/object.js","../../node_modules/d3-interpolate/src/string.js","../../node_modules/d3-interpolate/src/value.js","../../node_modules/d3-interpolate/src/round.js","../../node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/d3-interpolate/src/transform/index.js","../../node_modules/d3-interpolate/src/zoom.js","../../node_modules/d3-timer/src/timer.js","../../node_modules/d3-timer/src/timeout.js","../../node_modules/d3-transition/src/transition/schedule.js","../../node_modules/d3-transition/src/interrupt.js","../../node_modules/d3-transition/src/selection/interrupt.js","../../node_modules/d3-transition/src/transition/tween.js","../../node_modules/d3-transition/src/transition/interpolate.js","../../node_modules/d3-transition/src/transition/attr.js","../../node_modules/d3-transition/src/transition/attrTween.js","../../node_modules/d3-transition/src/transition/delay.js","../../node_modules/d3-transition/src/transition/duration.js","../../node_modules/d3-transition/src/transition/ease.js","../../node_modules/d3-transition/src/transition/easeVarying.js","../../node_modules/d3-transition/src/transition/filter.js","../../node_modules/d3-transition/src/transition/merge.js","../../node_modules/d3-transition/src/transition/on.js","../../node_modules/d3-transition/src/transition/remove.js","../../node_modules/d3-transition/src/transition/select.js","../../node_modules/d3-transition/src/transition/selectAll.js","../../node_modules/d3-transition/src/transition/selection.js","../../node_modules/d3-transition/src/transition/style.js","../../node_modules/d3-transition/src/transition/styleTween.js","../../node_modules/d3-transition/src/transition/text.js","../../node_modules/d3-transition/src/transition/textTween.js","../../node_modules/d3-transition/src/transition/transition.js","../../node_modules/d3-transition/src/transition/end.js","../../node_modules/d3-transition/src/transition/index.js","../../node_modules/d3-ease/src/linear.js","../../node_modules/d3-ease/src/cubic.js","../../node_modules/d3-transition/src/selection/transition.js","../../node_modules/d3-transition/src/selection/index.js","../../node_modules/d3-scale/src/init.js","../../node_modules/d3-scale/src/constant.js","../../node_modules/d3-scale/src/number.js","../../node_modules/d3-scale/src/continuous.js","../../node_modules/d3-scale/src/nice.js","../../node_modules/d3-time/src/interval.js","../../node_modules/d3-time/src/millisecond.js","../../node_modules/d3-time/src/duration.js","../../node_modules/d3-time/src/second.js","../../node_modules/d3-time/src/minute.js","../../node_modules/d3-time/src/hour.js","../../node_modules/d3-time/src/day.js","../../node_modules/d3-time/src/week.js","../../node_modules/d3-time/src/month.js","../../node_modules/d3-time/src/year.js","../../node_modules/d3-time/src/ticks.js","../../node_modules/d3-time-format/src/locale.js","../../node_modules/d3-time-format/src/defaultLocale.js","../../node_modules/d3-scale/src/time.js","../../node_modules/d3-zoom/src/constant.js","../../node_modules/d3-zoom/src/event.js","../../node_modules/d3-zoom/src/transform.js","../../node_modules/d3-zoom/src/noevent.js","../../node_modules/d3-zoom/src/zoom.js","../../src/D3Utility.ts","../../src/D3Logger.ts","../../src/D3Serializer.ts","../../src/D3LocaleDefinitions.ts","../../src/D3Timeline.ts","../../example/example.ts"],"sourcesContent":["export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export const linear = t => +t;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n","import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","/**\n * 生成指定长度的随机字符串ID\n *\n * @remarks\n * 使用62字符集（A-Z, a-z, 0-9）生成长度可配置的随机字符串。\n * 通过循环随机选取字符构建结果，保证每位字符概率均匀分布。\n *\n * 字符集构成：\n * - 大写字母 A-Z（26个）\n * - 小写字母 a-z（26个）\n * - 数字 0-9（10个）\n * - 总计：62个字符\n *\n * ⚠️ 注意：Math.random() 不是加密安全的随机数生成器。\n * 如需用于安全敏感场景（如密码、会话令牌、加密密钥），\n * 请使用 Web Crypto API 的 crypto.getRandomValues()。\n *\n * @param num - 生成字符串的长度，默认为 8\n * @returns 指定长度的随机字符串\n *\n * @example\n * ```typescript\n * // 默认生成8位ID\n * generateID();        // 例如: \"aB3xK9pQ\"\n *\n * // 生成6位短ID（适合验证码）\n * generateID(6);       // 例如: \"x7K9p2\"\n *\n * // 生成16位长ID（适合唯一标识）\n * generateID(16);      // 例如: \"aB3xK9pQmN5vL2wR\"\n *\n * // 生成32位令牌\n * generateID(32);      // 例如: \"aB3xK9pQmN5vL2wRaB3xK9pQmN5vL2wR\"\n * ```\n *\n * @example\n * ```typescript\n * // 生成多个ID并检查冲突概率\n * const ids = new Set();\n * for (let i = 0; i < 10000; i++) {\n *   ids.add(generateID(8));\n * }\n * console.log(ids.size); // 10000（8位时冲突概率极低）\n * ```\n */\nexport function generateID(num = 8): string {\n  const charsTable =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  let result = \"\";\n  const tableLength = charsTable.length;\n  for (let i = 0; i < num; i++) {\n    result += charsTable.charAt(Math.floor(Math.random() * tableLength));\n  }\n  return result;\n}\n\n/**\n * 将数值限制在指定的最小值和最大值范围内\n *\n * @remarks\n * 如果值小于最小值，返回最小值；如果值大于最大值，返回最大值。\n * 如果值在范围内，则返回原值。\n *\n * @param value - 要限制的值\n * @param min - 允许的最小值\n * @param max - 允许的最大值\n * @returns 限制后的值\n * @throws {Error} 当 min > max 时抛出范围错误\n * @throws {Error} 当任何参数为 NaN 时抛出类型错误\n *\n * @example\n * ```typescript\n * clamp(50, 0, 100);   // 返回 50\n * clamp(-10, 0, 100);  // 返回 0\n * clamp(150, 0, 100);  // 返回 100\n * ```\n */\nexport function clamp(value: number, min: number, max: number): number {\n  if (min > max) {\n    throw new Error(\n      `Invalid range: min (${min}) cannot be greater than max (${max})`,\n    );\n  }\n  if (Number.isNaN(value) || Number.isNaN(min) || Number.isNaN(max)) {\n    throw new Error(\"Clamp arguments must be valid numbers, got NaN\");\n  }\n  return Math.min(Math.max(value, min), max);\n}\n\n/**\n * 创建一个防抖函数，限制函数的执行频率\n *\n * @typeParam T - 被防抖函数的签名类型\n *\n * @remarks\n * 防抖函数确保在指定延迟时间内，无论触发多少次，函数只执行一次。\n * 支持两种模式：\n * - 延迟模式（默认）：延迟结束后执行最后一次调用\n * - 立即模式：首次调用立即执行，后续调用在延迟结束后执行\n *\n * 返回的函数包含一个 `cancel` 方法，用于取消待执行的调用。\n *\n * @param fn - 需要防抖的原始函数\n * @param delay - 延迟时间（毫秒）\n * @param immediate - 是否在触发时立即执行，默认为 false（延迟执行）\n * @returns 防抖处理后的函数，附带 cancel 方法\n *\n * @example\n * ```typescript\n * // 搜索输入防抖（延迟执行）\n * const search = debounce((query: string) => {\n *   console.log('搜索:', query);\n * }, 300);\n *\n * input.addEventListener('input', (e) => search(e.target.value));\n *\n * // 按钮点击防抖（立即执行）\n * const submit = debounce(() => {\n *   console.log('提交表单');\n * }, 500, true);\n *\n * // 取消待执行的调用\n * search.cancel();\n * ```\n */\nexport function debounce<T extends (...args: any[]) => any>(\n  fn: T,\n  delay: number,\n  immediate: boolean = false,\n): T & { cancel: () => void } {\n  let timer: ReturnType<typeof setTimeout> | null = null;\n  let isInvoke: boolean = false; // 是否激活了立即执行\n\n  const _debounce = function (\n    this: ThisParameterType<T>,\n    ...args: Parameters<T>\n  ) {\n    // 取消上一次的定时器\n    if (timer) clearTimeout(timer);\n\n    // 判断是否需要立即执行\n    if (immediate && !isInvoke) {\n      fn.apply(this, args);\n      isInvoke = true; // 已经立即执行, 阻止下次触发的立即执行\n    } else {\n      // 延迟执行\n      timer = setTimeout(() => {\n        // 外部传入的真正要执行的函数\n        fn.apply(this, args);\n        isInvoke = false;\n        timer = null;\n      }, delay);\n    }\n  } as T & { cancel: () => void };\n\n  // 封装取消功能\n  _debounce.cancel = function (): void {\n    if (timer) clearTimeout(timer);\n    timer = null;\n    isInvoke = false;\n  };\n\n  return _debounce;\n}\n","type LogLevel = \"debug\" | \"info\" | \"warn\" | \"error\" | \"fatal\";\n\nclass Logger {\n  private static readonly LEVEL_PRIORITY: Record<LogLevel, number> = {\n    debug: 0,\n    info: 1,\n    warn: 2,\n    error: 3,\n    fatal: 4,\n  };\n\n  private static readonly COLORS: Record<LogLevel | \"logName\", string> = {\n    debug: \"#6b7280\",\n    info: \"#3b82f6\",\n    warn: \"#f59e0b\",\n    error: \"#ef4444\",\n    fatal: \"#dc2626\",\n    logName: \"#06b6d4\",\n  };\n\n  private currentLevel: LogLevel;\n  private readonly logName: string;\n\n  constructor(logName: string = \"APP\", level: LogLevel = \"debug\") {\n    this.logName = logName;\n    this.currentLevel = level;\n  }\n\n  setLevel(level: LogLevel): void {\n    this.currentLevel = level;\n  }\n\n  private shouldLog(level: LogLevel): boolean {\n    return (\n      Logger.LEVEL_PRIORITY[level] >= Logger.LEVEL_PRIORITY[this.currentLevel]\n    );\n  }\n\n  private formatTime(): string {\n    const now = new Date();\n    return `${now.getHours().toString().padStart(2, \"0\")}:${now.getMinutes().toString().padStart(2, \"0\")}:${now.getSeconds().toString().padStart(2, \"0\")}`;\n  }\n\n  private _log(level: LogLevel, content: string, module?: string): void {\n    if (!this.shouldLog(level)) return;\n\n    const styles = {\n      logName: `color: ${Logger.COLORS.logName}; font-weight: bold;`,\n      module: \"color: #4b5563; font-weight: 600;\",\n      level: `color: ${Logger.COLORS[level]}; font-weight: bold; text-transform: uppercase;`,\n      content: \"color: #eeeeee;\",\n      time: \"color: #9ca3af; font-size: 11px;\",\n      sep: \"color: #d1d5db;\",\n    };\n\n    const parts = [`%c[${this.logName}]`, \"%c | \"];\n    const styleArgs = [styles.logName, styles.sep];\n\n    if (module) {\n      parts.push(`%c[${module}]`, \"%c | \");\n      styleArgs.push(styles.module, styles.sep);\n    }\n\n    parts.push(\n      `%c${level}`,\n      \"%c | \",\n      \"%c\" + content,\n      \"%c | \",\n      `%c${this.formatTime()}`,\n    );\n    styleArgs.push(\n      styles.level,\n      styles.sep,\n      styles.content,\n      styles.sep,\n      styles.time,\n    );\n\n    console.log(parts.join(\"\"), ...styleArgs);\n  }\n\n  debug(content: string, module?: string): void {\n    this._log(\"debug\", content, module);\n  }\n\n  info(content: string, module?: string): void {\n    this._log(\"info\", content, module);\n  }\n\n  warn(content: string, module?: string): void {\n    this._log(\"warn\", content, module);\n  }\n\n  error(content: string, module?: string): void {\n    this._log(\"error\", content, module);\n  }\n\n  fatal(content: string, module?: string): void {\n    this._log(\"fatal\", content, module);\n  }\n\n  log(level: LogLevel, content: string, module?: string): void {\n    this._log(level, content, module);\n  }\n}\n\nexport default Logger;\n","interface Options {\n  dateFormat?: \"iso\" | \"timestamp\" | \"formatted\";\n  space?: string | number;\n}\n\nclass JSONSerializer {\n  private opts: Required<Options>;\n\n  constructor(options: Options = {}) {\n    this.opts = {\n      dateFormat: options.dateFormat ?? \"iso\",\n      space: options.space ?? 2,\n    };\n  }\n\n  stringify(value: unknown): string {\n    const dateReplacer = (v: Date) => {\n      switch (this.opts.dateFormat) {\n        case \"timestamp\":\n          return { $type: \"Date\", $value: v.getTime() };\n        case \"formatted\":\n          return {\n            $type: \"Date\",\n            $value: v.toLocaleString(\"zh-CN\"),\n            $iso: v.toISOString(),\n          };\n        default:\n          return { $type: \"Date\", $value: v.toISOString() };\n      }\n    };\n    return JSON.stringify(\n      value,\n      (_, v) => {\n        if (v && typeof v === \"object\") {\n          for (const subKey in v) {\n            const subValue = v[subKey];\n            if (subValue instanceof Date) {\n              v[subKey] = dateReplacer(subValue);\n            }\n          }\n        } else if (v instanceof Date) {\n          return dateReplacer(v);\n        }\n\n        return v;\n      },\n      this.opts.space,\n    );\n  }\n\n  parse<T = unknown>(text: string): T {\n    return JSON.parse(text, (k, v) => {\n      if (v?.$type === \"Date\") {\n        return new Date(\n          this.opts.dateFormat === \"formatted\" && v.$iso ? v.$iso : v.$value,\n        );\n      }\n      return v;\n    }) as T;\n  }\n\n  deepClone<T>(obj: T): T {\n    return this.parse(this.stringify(obj));\n  }\n\n  deepEqual(a: unknown, b: unknown): boolean {\n    return this.stringify(a) === this.stringify(b);\n  }\n}\n\nexport { JSONSerializer };\nexport default JSONSerializer;\n","import { TimeLocaleDefinition } from \"d3\";\n/**\n * 语言编码：遵循ISO639_1标准\n * @type Locale\n */\nexport type Locale = \"zh\" | \"en\";\n/**\n * timeLocalDefinitions定义\n */\nexport const TimeLocaleDefinitions: Record<Locale, TimeLocaleDefinition> = {\n  en: {\n    dateTime: \"%x, %X\",\n    date: \"%-m/%-d/%Y\",\n    time: \"%-I:%M:%S %p\",\n    periods: [\"AM\", \"PM\"],\n    days: [\n      \"Sunday\",\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n    ],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ],\n    shortMonths: [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ],\n  },\n  zh: {\n    dateTime: \"%x %X\",\n    date: \"%Y年%-m月%-d日\",\n    time: \"%H:%M:%S\",\n    periods: [\"上午\", \"下午\"],\n    days: [\n      \"星期日\",\n      \"星期一\",\n      \"星期二\",\n      \"星期三\",\n      \"星期四\",\n      \"星期五\",\n      \"星期六\",\n    ],\n    shortDays: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"],\n    months: [\n      \"一月\",\n      \"二月\",\n      \"三月\",\n      \"四月\",\n      \"五月\",\n      \"六月\",\n      \"七月\",\n      \"八月\",\n      \"九月\",\n      \"十月\",\n      \"十一月\",\n      \"十二月\",\n    ],\n    shortMonths: [\n      \"1月\",\n      \"2月\",\n      \"3月\",\n      \"4月\",\n      \"5月\",\n      \"6月\",\n      \"7月\",\n      \"8月\",\n      \"9月\",\n      \"10月\",\n      \"11月\",\n      \"12月\",\n    ],\n  },\n};\n","// D3Timeline.ts\nimport * as d3 from \"d3\";\nimport { generateID, clamp, debounce } from \"./D3Utility\";\nimport Logger from \"./D3Logger\";\nimport JSONSerializer from \"./D3Serializer\";\nimport { Locale, TimeLocaleDefinitions } from \"./D3LocaleDefinitions\";\n\n/**\n * 时间轴配置选项接口\n * @interface TimelineOptions\n */\nexport interface TimelineOptions {\n  /** 时间轴ID */\n  id?: ID;\n  /** 图表宽度（像素） */\n  width?: number;\n  /** 图表高度（像素） */\n  height?: number;\n  /** 图表边距设置 */\n  margin?: {\n    /** 上边距（像素） */\n    top: number;\n    /** 右边距（像素） */\n    right: number;\n    /** 下边距（像素） */\n    bottom: number;\n    /** 左边距（像素） */\n    left: number;\n  };\n  /** 时间线高度（像素） */\n  timelineHeight?: number;\n  /** 时间线之间的垂直间距（像素） */\n  timelineSpacing?: number;\n  /** X轴高度（像素） */\n  axisHeight?: number;\n  /** 最小缩放时间范围（毫秒），默认2周 */\n  zoomMin?: number;\n  /** 最大缩放时间范围（毫秒），默认1年 */\n  zoomMax?: number;\n  /** 动画持续时间（毫秒） */\n  animationDuration?: number;\n  /** 阶段线参数 */\n  stageLineParams?: StageLineParams;\n  /** 语言：符合ISO639_1，比如：'zh', 'en'，默认：en */\n  locale?: Locale;\n}\n\n/**\n * 阶段线参数\n * @interface StageLineParams\n */\nexport interface StageLineParams {\n  /** 线条类型，默认: straight */\n  path: \"straight\" | \"arc\" | \"fluid\" | \"magnet\" | \"grid\";\n  /** 线条宽度 */\n  size: number;\n  /** 线条颜色 */\n  color: string;\n  /** 是否是虚线 */\n  dash: boolean;\n  /** 是否显示箭头 */\n  arrow: boolean;\n  /** 是否显示动画 */\n  animation: boolean;\n}\n/**\n * 暴露给插件的上下文对象\n * @interface D3TimelineContext\n */\nexport interface D3TimelineContext {\n  instance: D3Timeline;\n  container: d3.Selection<HTMLElement, unknown, null, undefined>;\n  options: Required<TimelineOptions>;\n  timeRange: TimeRange;\n  svg: d3.Selection<SVGSVGElement, unknown, null, undefined>;\n}\n\n/**\n * D3Timeline插件接口\n * @interface D3TimelinePlugin\n */\nexport interface D3TimelinePlugin {\n  /** 安装方法 */\n  install: (context: D3TimelineContext) => void;\n}\n\n/**\n * 时间轴数据结构接口\n * @interface TimelineData\n */\nexport interface TimelineData {\n  /** 时间轴唯一标识符 */\n  id: ID;\n  /** 时间轴名称 */\n  name: string;\n  /** 时间轴颜色（十六进制或CSS颜色值） */\n  color: string;\n}\n\n/**\n * ID-Like\n * @type ID\n */\nexport type ID = number | string;\n\n/**\n * 事件阶段\n * @interface EventStage\n */\nexport interface EventStage {\n  /** 事件阶段唯一标识符 */\n  id: ID;\n  /** 事件阶段的序号，标识同一阶段的先后顺序 */\n  index: number;\n}\n\n/**\n * 事件数据结构接口\n * @interface EventData\n */\nexport interface EventData {\n  /** 事件唯一标识符 */\n  id: ID;\n  /** 所属时间轴ID */\n  timelineId: ID;\n  /** 事件标题 */\n  title: string;\n  /** 事件描述（可选） */\n  description?: string;\n  /** 事件开始时间 */\n  startTime: Date;\n  /** 事件结束时间 */\n  endTime: Date;\n  /** 事件颜色（十六进制或CSS颜色值） */\n  color: string;\n  /** 事件类型：'point'表示时间点，'range'表示时间范围 */\n  type: \"point\" | \"range\";\n  /** 事件阶段（可选） */\n  stage?: EventStage;\n}\n\n/**\n * 时间范围接口\n * @interface TimeRange\n */\nexport interface TimeRange {\n  /** 开始时间 */\n  start: Date;\n  /** 结束时间 */\n  end: Date;\n}\n\n/**\n * 导出数据接口，包含时间轴和事件的完整状态\n * @interface ExportData\n */\nexport interface ExportData {\n  /** 时间轴数据数组 */\n  timelines: TimelineData[];\n  /** 事件数据数组 */\n  events: EventData[];\n  /** 当前时间范围 */\n  timeRange: TimeRange;\n}\n/**\n * 支持的事件类型\n * @type EventType\n */\nexport type EventType = \"click\" | \"zoom\" | \"zoom.end\";\n/**\n * 事件类型和事件数据的映射\n * @type EventType\n */\nexport type EventMap = {\n  click: { data: EventData };\n  zoom: { scale: number; x: number; y: number };\n  \"zoom.end\": { scale: number; x: number; y: number };\n};\n/**\n * 事件回调函数类型定义\n * @type EventHandler\n */\nexport type EventHandler<T extends EventType> = (event: EventMap[T]) => void;\n\n/**\n * D3Timeline - 基于D3.js的时间轴可视化组件\n * @class D3Timeline\n */\nexport class D3Timeline {\n  private logger: Logger = new Logger(\"D3Timeline\");\n  private container: d3.Selection<HTMLElement, unknown, null, undefined>;\n  private options: Required<TimelineOptions>;\n  private timelines: TimelineData[] = [];\n  private events: EventData[] = [];\n  private timeRange!: TimeRange;\n  private eventBindings: {\n    [T in EventType]: Set<Function>;\n  } = {\n    click: new Set(),\n    zoom: new Set(),\n    \"zoom.end\": new Set(),\n  };\n  private boundResize = debounce(this.resize.bind(this), 300);\n\n  // D3 元素\n  private svg!: d3.Selection<SVGSVGElement, unknown, null, undefined>;\n  private mainGroup!: d3.Selection<SVGGElement, unknown, null, undefined>;\n  private gridGroup!: d3.Selection<SVGGElement, unknown, null, undefined>;\n  private timelineGroup!: d3.Selection<SVGGElement, unknown, null, undefined>;\n  private stageLineGroup!: d3.Selection<SVGGElement, unknown, null, undefined>;\n  private stageLinesVisible: boolean = true;\n  private eventGroup!: d3.Selection<SVGGElement, unknown, null, undefined>;\n  private axisGroup!: d3.Selection<SVGGElement, unknown, null, undefined>;\n  private labelGroup!: d3.Selection<SVGGElement, unknown, null, undefined>;\n\n  // D3 比例尺和轴\n  private xScale!: d3.ScaleTime<number, number>;\n  private xAxis!: d3.Axis<Date>;\n\n  // D3 行为\n  private zoom!: d3.ZoomBehavior<SVGSVGElement, unknown>;\n  private tooltip!: d3.Selection<HTMLDivElement, unknown, HTMLElement, any>;\n  private lastTransform?: d3.ZoomTransform;\n\n  // 默认配置\n  private readonly defaultOptions: Required<TimelineOptions> = {\n    id: generateID(),\n    width: 0, // 0表示没有指定，自动适应容器的尺寸\n    height: 0, // 0表示没有指定，自动适应容器的尺寸\n    margin: { top: 20, right: 20, bottom: 20, left: 120 },\n    timelineHeight: 60,\n    timelineSpacing: 20,\n    axisHeight: 20,\n    zoomMin: 8 * 24 * 60 * 60 * 1000, // 2周\n    zoomMax: 365 * 24 * 60 * 60 * 1000, // 1年\n    animationDuration: 300,\n    stageLineParams: {\n      path: \"straight\",\n      size: 2,\n      color: \"#9f86c0\",\n      dash: true,\n      arrow: true,\n      animation: false,\n    },\n    locale: \"en\",\n  };\n\n  /**\n   * 创建D3Timeline实例\n   * @constructor\n   * @param {HTMLElement} container - 容器元素，用于渲染时间轴\n   * @param {TimelineOptions} [options={}] - 配置选项\n   */\n  constructor(container: HTMLElement, options: TimelineOptions = {}) {\n    this.container = d3.select(container);\n    this.options = { ...this.defaultOptions, ...options };\n\n    // 如果容器有尺寸，使用容器尺寸\n    if (this.options.width <= 0 && container.clientWidth > 0) {\n      this.options.width = container.clientWidth;\n    }\n    if (this.options.height <= 0 && container.clientHeight > 0) {\n      this.options.height = container.clientHeight;\n    }\n\n    // 检查width和height是否合法\n    if (this.options.width <= 0) {\n      throw Error(\"D3Timeline err: width is zero.\");\n    }\n\n    this.init();\n  }\n  /**\n   * 阶段线是否显示\n   */\n  get isStageLineVisible() {\n    return this.stageLinesVisible;\n  }\n\n  private init(): void {\n    this.setupLocales();\n    this.setupTimeRange();\n    this.setupSVG();\n    this.setupScales();\n    this.setupGroups();\n    this.setupZoom();\n    this.setupTooltip();\n    this.setupEventListeners();\n    this.setupPlugins();\n    this.render();\n  }\n\n  private setupTimeRange() {\n    const currentDate = new Date();\n    const startDate = new Date(\n      currentDate.getFullYear() - 10,\n      currentDate.getMonth(),\n      currentDate.getDate(),\n    );\n    const endDate = new Date(\n      currentDate.getFullYear() + 10,\n      currentDate.getMonth(),\n      currentDate.getDate(),\n    );\n\n    this.timeRange = {\n      start: startDate,\n      end: endDate,\n    };\n  }\n\n  private setupLocales() {\n    d3.timeFormatDefaultLocale(TimeLocaleDefinitions[this.options.locale]);\n  }\n\n  private setupSVG(): void {\n    this.svg = this.container\n      .append(\"svg\")\n      .attr(\"viewBox\", [0, 0, this.options.width, this.options.height])\n      .attr(\"width\", this.options.width)\n      .attr(\"height\", this.options.height);\n\n    // 定义渐变和滤镜\n    const defs = this.svg.append(\"defs\");\n\n    // 添加主内容区域的裁剪路径\n    defs\n      .append(\"clipPath\")\n      .attr(\"id\", `main-clip-${this.options.id}`)\n      .append(\"rect\")\n      .attr(\"id\", `main-clip-rect-${this.options.id}`) // 添加ID方便resize时更新\n      .attr(\"x\", this.options.margin.left)\n      .attr(\"y\", this.options.margin.top)\n      .attr(\"width\", this.getTimelineInnerWidth())\n      .attr(\"height\", clamp(this.getTimelineInnerHeight(), 0, Infinity));\n\n    // 时间线渐变\n    const gradient = defs\n      .append(\"linearGradient\")\n      .attr(\"id\", `timelineGradient-${this.options.id}`)\n      .attr(\"x1\", \"0%\")\n      .attr(\"y1\", \"0%\")\n      .attr(\"x2\", \"100%\")\n      .attr(\"y2\", \"0%\");\n\n    gradient.append(\"stop\").attr(\"offset\", \"0%\").attr(\"stop-color\", \"#667eea\");\n\n    gradient\n      .append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .attr(\"stop-color\", \"#764ba2\");\n\n    // 阴影滤镜\n    const filter = defs\n      .append(\"filter\")\n      .attr(\"id\", `drop-shadow-${this.options.id}`)\n      .attr(\"height\", \"130%\");\n\n    filter\n      .append(\"feGaussianBlur\")\n      .attr(\"in\", \"SourceAlpha\")\n      .attr(\"stdDeviation\", 2)\n      .attr(\"result\", \"blur\");\n\n    filter\n      .append(\"feOffset\")\n      .attr(\"in\", \"blur\")\n      .attr(\"dx\", 0)\n      .attr(\"dy\", 2)\n      .attr(\"result\", \"offsetBlur\");\n\n    const feMerge = filter.append(\"feMerge\");\n    feMerge.append(\"feMergeNode\").attr(\"in\", \"offsetBlur\");\n    feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\");\n  }\n\n  private setupScales(): void {\n    this.xScale = d3\n      .scaleTime()\n      .domain([this.timeRange.start, this.timeRange.end])\n      .range([\n        this.options.margin.left,\n        this.options.width - this.options.margin.right,\n      ]);\n\n    this.xAxis = d3\n      .axisBottom<Date>(this.xScale)\n      .ticks(this.options.width / 80);\n  }\n\n  private setupGroups(): void {\n    this.mainGroup = this.svg.append(\"g\").attr(\"class\", \"main-group\");\n\n    // 标签组（不裁剪）\n    this.labelGroup = this.mainGroup.append(\"g\").attr(\"class\", \"d3-labels\");\n\n    // 裁剪组：网格、时间线、事件\n    const clipGroup = this.mainGroup\n      .append(\"g\")\n      .attr(\"clip-path\", `url(#main-clip-${this.options.id})`);\n    this.gridGroup = clipGroup.append(\"g\").attr(\"class\", \"d3-grid\");\n    this.timelineGroup = clipGroup.append(\"g\").attr(\"class\", \"timelines\");\n    this.stageLineGroup = clipGroup.append(\"g\").attr(\"class\", \"stage-lines\");\n    this.eventGroup = clipGroup.append(\"g\").attr(\"class\", \"events\");\n    this.axisGroup = clipGroup\n      .append(\"g\")\n      .attr(\"class\", \"d3-axis\")\n      .attr(\n        \"transform\",\n        `translate(0, ${this.options.height - this.options.margin.bottom - this.options.axisHeight})`,\n      );\n  }\n\n  private isPointInClipArea(event: MouseEvent): boolean {\n    // 获取相对于 clipGroup 的本地坐标\n    const point = d3.pointer(event, this.timelineGroup.node());\n    const [x, y] = point;\n\n    const width = this.getTimelineInnerWidth();\n    const height = this.getTimelineInnerHeight();\n\n    return (\n      x >= this.options.margin.left &&\n      x <= width + this.options.margin.left &&\n      y >= this.options.margin.top &&\n      y <= height + this.options.margin.top\n    );\n  }\n\n  private getTimelineInnerWidth(): number {\n    return (\n      this.options.width - this.options.margin.left - this.options.margin.right\n    );\n  }\n\n  private getTimelineInnerHeight(excludeAxis = false): number {\n    return (\n      this.options.height -\n      this.options.margin.top -\n      this.options.margin.bottom -\n      (excludeAxis ? this.options.axisHeight : 0)\n    );\n  }\n\n  private setupZoom(): void {\n    // 根据时间范围限制计算缩放比例限制\n    const initialRange =\n      this.timeRange.end.getTime() - this.timeRange.start.getTime();\n    const minScale = this.options.zoomMax / initialRange;\n    const maxScale = initialRange / this.options.zoomMin;\n\n    this.zoom = d3\n      .zoom<SVGSVGElement, unknown>()\n      .filter(this.isPointInClipArea.bind(this))\n      .scaleExtent([Math.max(1, minScale), Math.max(1, maxScale)]) // 限制最小/最大\n      .extent([\n        [this.options.margin.left, 0],\n        [this.options.width - this.options.margin.right, this.options.height],\n      ])\n      .translateExtent([\n        [this.options.margin.left, -Infinity],\n        [this.options.width - this.options.margin.right, Infinity],\n      ]);\n  }\n\n  private setupTooltip(): void {\n    this.tooltip = d3\n      .select(\"body\")\n      .append(\"div\")\n      .attr(\"class\", \"d3-timeline-tooltip\")\n      .style(\"position\", \"fixed\")\n      .style(\"background\", \"rgba(0, 0, 0, 0.9)\")\n      .style(\"color\", \"white\")\n      .style(\"padding\", \"12px\")\n      .style(\"border-radius\", \"8px\")\n      .style(\"font-size\", \"12px\")\n      .style(\"pointer-events\", \"none\")\n      .style(\"opacity\", 0)\n      .style(\"z-index\", \"1000\")\n      .style(\"max-width\", \"250px\")\n      .style(\"box-shadow\", \"0 4px 12px rgba(0,0,0,0.3)\");\n  }\n\n  private setupPlugins() {\n    D3Timeline.plugins.forEach((plug) => {\n      plug.install({\n        instance: this,\n        container: this.container,\n        options: this.options,\n        timeRange: this.timeRange,\n        svg: this.svg,\n      });\n    });\n  }\n\n  private setupEventListeners() {\n    if (this.zoom) {\n      this.zoom\n        .on(\"zoom\", (event: d3.D3ZoomEvent<SVGSVGElement, unknown>) => {\n          this.handleZoom(event);\n          this.emit(\"zoom\", {\n            scale: event.transform.k,\n            x: event.transform.x,\n            y: event.transform.y,\n          });\n        })\n        .on(\"zoom.end\", (event: d3.D3ZoomEvent<SVGSVGElement, unknown>) => {\n          this.emit(\"zoom.end\", {\n            scale: event.transform.k,\n            x: event.transform.x,\n            y: event.transform.y,\n          });\n        });\n    }\n\n    if (this.svg) {\n      this.svg.on(\"click\", (event: MouseEvent) => {\n        const eventDom = (event.target as HTMLElement).closest(\".event\");\n        if (eventDom) {\n          const eventData = d3.select(eventDom).datum() as EventData;\n          this.emit(\"click\", { data: eventData });\n        }\n      });\n    }\n    window.addEventListener(\"resize\", this.boundResize);\n  }\n\n  private removeEventListeners() {\n    if (this.zoom) {\n      this.zoom.on(\"zoom\", null).on(\"zoom.end\", null);\n    }\n    if (this.svg) {\n      this.svg.on(\"click\", null);\n    }\n    window.removeEventListener(\"resize\", this.boundResize);\n    // 移除绑定事件\n    this.eventBindings.click.clear();\n    this.eventBindings.zoom.clear();\n    this.eventBindings[\"zoom.end\"].clear();\n  }\n\n  // 更新时间线位置\n  private updateTimelinePositions(): void {\n    this.timelineGroup\n      .selectAll<SVGGElement, TimelineData>(\".timeline\")\n      .attr(\n        \"transform\",\n        (d) => `translate(0, ${this.calculateTimelineOffsetY(d)})`,\n      );\n  }\n\n  private calculateTimelineOffsetY(timeline?: TimelineData): number {\n    return timeline\n      ? (this.timelines.length - this.timelines.indexOf(timeline) - 1) *\n          (this.options.timelineHeight + this.options.timelineSpacing) +\n          this.options.margin.top\n      : 0;\n  }\n\n  private calculateHeight() {\n    return (\n      this.options.margin.top +\n      this.options.margin.bottom +\n      this.options.axisHeight +\n      this.timelines.length *\n        (this.options.timelineSpacing + this.options.timelineHeight)\n    );\n  }\n\n  // 更新事件位置\n  private updateEventPositions(xScale: d3.ScaleTime<number, number>): void {\n    this.eventGroup\n      .selectAll<SVGGElement, EventData>(\".event\")\n      .attr(\"transform\", (d) => {\n        const timeline = this.timelines.find((t) => t.id === d.timelineId);\n        const x = xScale(d.startTime);\n        const y = timeline\n          ? this.calculateTimelineOffsetY(timeline) +\n            this.options.timelineHeight / 2\n          : 0;\n        return `translate(${x}, ${y})`;\n      })\n      .select(\".d3-event-range\") // 更新范围事件的宽度\n      .attr(\"width\", (d) => {\n        if (d.type === \"range\") {\n          const endX = xScale(d.endTime);\n          const startX = xScale(d.startTime);\n          return Math.max(5, endX - startX);\n        }\n        return 0;\n      });\n\n    this.eventGroup\n      .selectAll<SVGGElement, EventData>(\".event\")\n      .filter((d) => d.type === \"range\")\n      .select(\".d3-event-text\")\n      .attr(\"x\", (d) => {\n        const endX = xScale(d.endTime);\n        const startX = xScale(d.startTime);\n        return (endX - startX) / 2;\n      });\n\n    // 更新范围事件的文字位置\n    this.eventGroup\n      .selectAll<SVGGElement, EventData>(\".event\")\n      .select(\".event-text\")\n      .filter((d) => d.type === \"range\")\n      .attr(\"x\", (d) => {\n        if (d.type === \"range\") {\n          const endX = xScale(d.endTime);\n          const startX = xScale(d.startTime);\n          return (endX - startX) / 2;\n        }\n        return 0;\n      });\n  }\n\n  private emit<T extends EventType>(eventType: T, data: EventMap[T]) {\n    this.eventBindings[eventType].forEach((handler) => {\n      (handler as EventHandler<T>)(data);\n    });\n  }\n  /**\n   * 绑定事件\n   * @param {EventType} eventType 事件类型\n   * @param {EventHandler} handler 事件处理器\n   */\n  public on<T extends EventType>(eventType: T, handler: EventHandler<T>) {\n    if (!this.eventBindings[eventType].has(handler)) {\n      this.eventBindings[eventType].add(handler);\n    }\n  }\n  /**\n   * 事件解绑\n   * @param {EventType} eventType 事件类型\n   * @param {EventHandler} handler 事件处理器\n   */\n  public off<T extends EventType>(eventType: T, handler: EventHandler<T>) {\n    this.eventBindings[eventType].delete(handler);\n  }\n\n  /**\n   * 添加时间轴\n   * @param {string} name - 时间轴名称\n   * @param {string} [color=\"#667eea\"] - 时间轴颜色（十六进制或CSS颜色值）\n   * @param {ID} id - 时间轴ID（可选）\n   * @returns {TimelineData} 新增的时间轴对象\n   */\n  public addTimeline(\n    name: string,\n    color: string = \"#667eea\",\n    id?: ID,\n    autofit = true,\n  ): TimelineData {\n    const timeline: TimelineData = {\n      id: id ?? generateID(),\n      name: name,\n      color: color,\n    };\n\n    this.timelines.push(timeline);\n\n    if (autofit) {\n      this.resize();\n    }\n\n    return timeline;\n  }\n\n  /**\n   * 批量添加时间轴\n   * @param {Array<{name: string, color?: string, id?: ID}>} timelineConfigs - 时间轴配置数组\n   * @returns {TimelineData[]} 新增的时间轴对象数组\n   */\n  public addTimelines(\n    timelineConfigs: Array<{\n      name: string;\n      color?: string;\n      id?: ID;\n    }>,\n    autofit = true,\n  ): TimelineData[] {\n    if (!Array.isArray(timelineConfigs) || timelineConfigs.length === 0) {\n      return [];\n    }\n\n    const addedTimelines: TimelineData[] = timelineConfigs.map((config) => {\n      const timeline: TimelineData = {\n        id: config.id ?? generateID(),\n        name: config.name,\n        color: config.color ?? \"#667eea\",\n      };\n      return timeline;\n    });\n\n    this.timelines.push(...addedTimelines);\n\n    if (autofit) {\n      this.resize();\n    }\n    return addedTimelines;\n  }\n\n  /**\n   * 移除指定ID的时间轴及其所有事件\n   * @param {ID} id - 要移除的时间轴ID\n   * @returns {void}\n   */\n  public removeTimeline(id: ID): void {\n    this.timelines = this.timelines.filter((t) => t.id !== id);\n    this.events = this.events.filter((e) => e.timelineId !== id);\n    this.resize();\n  }\n\n  /**\n   * 向指定时间轴添加事件\n   * @param {Partial<EventData>} event - 事件配置对象\n   * @param {ID} timelineId - 目标时间轴ID\n   * @param {boolean} [autofit=true] - 是否自动调整视图范围\n   * @returns {EventData | null} 成功返回事件对象，失败返回null\n   */\n  public addEvent(\n    event: Partial<EventData>,\n    timelineId?: ID,\n    autofit: boolean = true,\n  ): EventData | null {\n    const timeline = this.timelines.find((t) => t.id === timelineId);\n    if (!timeline) return null;\n    timelineId = timelineId ?? event.timelineId;\n    if (!timelineId) {\n      throw Error(\"The timelineId is not specified.\");\n    }\n\n    const eventData: EventData = {\n      id: event.id ?? generateID(),\n      timelineId: timelineId,\n      title: event.title || \"\",\n      description: event.description || \"\",\n      startTime: event.startTime || new Date(),\n      endTime: event.endTime || event.startTime || new Date(),\n      color: event.color || timeline.color,\n      type: event.endTime ? \"range\" : \"point\",\n      stage: event.stage,\n    };\n\n    this.events.push(eventData);\n    this.render();\n    if (autofit) {\n      this.fitRange();\n    }\n    return eventData;\n  }\n\n  /**\n   * 向指定时间轴批量添加事件\n   * @param {Partial<EventData>[]} events - 事件配置对象数组\n   * @param {ID} timelineId - 目标时间轴ID\n   * @param {boolean} [autofit=true] - 是否自动调整视图范围\n   * @returns {EventData[] | null} 成功返回事件对象数组，失败返回null\n   */\n  public addEvents(\n    events: Partial<EventData>[],\n    timelineId?: ID,\n    autofit: boolean = true,\n  ): EventData[] | null {\n    if (!Array.isArray(events) || events.length === 0) return null;\n\n    const addedEvents: EventData[] = events.map((event) => {\n      let targetTimelineId = timelineId ?? event.timelineId;\n      if (!targetTimelineId) throw Error(\"The timelineId is not specified.\");\n      const timeline = this.timelines.find((t) => t.id === targetTimelineId);\n      if (!timeline) throw Error(\"The timeineId is invalid.\");\n      const eventData: EventData = {\n        id: event.id ?? generateID(),\n        timelineId: targetTimelineId,\n        title: event.title || \"\",\n        description: event.description || \"\",\n        startTime: event.startTime || new Date(),\n        endTime: event.endTime || event.startTime || new Date(),\n        color: event.color || timeline.color,\n        type: event.endTime ? \"range\" : \"point\",\n        stage: event.stage,\n      };\n      return eventData;\n    });\n\n    this.events.push(...addedEvents);\n    this.render();\n\n    if (autofit) {\n      this.fitRange();\n    }\n\n    return addedEvents;\n  }\n\n  /**\n   * 移除指定ID的事件\n   * @param {number} id - 要移除的事件ID\n   * @returns {void}\n   */\n  public removeEvent(id: number): void {\n    this.events = this.events.filter((e) => e.id !== id);\n    this.render();\n  }\n  /**\n   * 切换语言\n   * @param {Locale} locale 语言编码：ISO639_1\n   */\n  public changeLocale(locale: Locale) {\n    this.options.locale = locale;\n    d3.timeFormatDefaultLocale(TimeLocaleDefinitions[locale]);\n    this.setupScales();\n    // 如果做了变换，则需要重新渲染轴\n    if (this.lastTransform) {\n      // 构造一个微小的偏移\n      const transform = new d3.ZoomTransform(\n        this.lastTransform.k,\n        this.lastTransform.x + 1,\n        this.lastTransform.y,\n      );\n      this.renderAxis(transform.rescaleX(this.xScale));\n      // 再偏移回来\n      this.renderAxis(this.lastTransform.rescaleX(this.xScale));\n    }\n  }\n\n  /**\n   * 重新渲染整个时间轴（仅当数据量变化时完全重绘，否则只更新位置）\n   * @returns {void}\n   */\n  public render(force = false): void {\n    // 检查是否需要完全重新渲染\n    const timelineCount = this.timelineGroup.selectAll(\".d3-timeline\").size();\n    const eventCount = this.eventGroup.selectAll(\".event\").size();\n\n    if (\n      timelineCount !== this.timelines.length ||\n      eventCount !== this.events.length ||\n      force\n    ) {\n      this.renderTimelines();\n      this.renderEvents();\n      this.renderStageLines();\n    } else {\n      // 只需要更新位置\n      this.updateTimelinePositions();\n      this.updateEventPositions(this.xScale);\n    }\n    this.renderGrid(this.xScale);\n    this.renderAxis(this.xScale);\n  }\n\n  private renderGrid(xScale: d3.ScaleTime<number, number>): void {\n    this.gridGroup.selectAll(\"*\").remove();\n\n    const gridLines = this.xScale.ticks(20);\n\n    this.gridGroup\n      .selectAll(\".vertical-grid\")\n      .data(gridLines)\n      .enter()\n      .append(\"line\")\n      .attr(\"class\", \"vertical-grid\")\n      .attr(\"x1\", (d) => xScale(d))\n      .attr(\"y1\", this.options.margin.top)\n      .attr(\"x2\", (d) => xScale(d))\n      .attr(\n        \"y2\",\n        this.options.height -\n          this.options.margin.bottom -\n          this.options.axisHeight,\n      )\n      .attr(\"class\", \"d3-grid\");\n  }\n\n  private renderTimelines(): void {\n    const timelineSelection = this.timelineGroup\n      .selectAll<SVGGElement, TimelineData>(\".d3-timeline\")\n      .data(this.timelines, (d) => d.id.toString());\n\n    const timelineEnter = timelineSelection\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"d3-timeline\");\n\n    // 时间线背景\n    timelineEnter\n      .append(\"rect\")\n      .attr(\"class\", \"d3-timeline-bg\")\n      .attr(\"x\", this.options.margin.left)\n      .attr(\"width\", this.getTimelineInnerWidth())\n      .attr(\"height\", this.options.timelineHeight)\n      .attr(\"filter\", `url(#drop-shadow-${this.options.id})`);\n\n    // 时间线主体\n    timelineEnter\n      .append(\"line\")\n      .attr(\"class\", \"d3-timeline-line\")\n      .attr(\"x1\", this.options.margin.left)\n      .attr(\"x2\", this.options.margin.left + this.getTimelineInnerWidth()); // 确保x2动态计算\n\n    // 更新所有时间线\n    const timelineUpdate = timelineEnter.merge(timelineSelection);\n\n    timelineUpdate\n      .transition()\n      .duration(this.options.animationDuration)\n      .attr(\n        \"transform\",\n        (d) => `translate(0, ${this.calculateTimelineOffsetY(d)})`,\n      );\n\n    timelineUpdate.select(\".d3-timeline-bg\").attr(\"y\", 0);\n\n    timelineUpdate\n      .select(\".d3-timeline-line\")\n      .attr(\"y1\", this.options.timelineHeight / 2)\n      .attr(\"y2\", this.options.timelineHeight / 2)\n      .attr(\"stroke\", (d) => d.color);\n\n    // 移除旧时间线\n    timelineSelection\n      .exit()\n      .transition()\n      .duration(this.options.animationDuration)\n      .style(\"opacity\", 0)\n      .remove();\n\n    this.renderTimelineLabels();\n  }\n\n  private renderTimelineLabels(): void {\n    const labelSelection = this.labelGroup\n      .selectAll<SVGTextElement, TimelineData>(\".d3-timeline-label\")\n      .data(this.timelines, (d) => d.id.toString());\n\n    // 进入新标签\n    const labelEnter = labelSelection\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"d3-timeline-label\")\n      .attr(\"x\", this.options.margin.left - 10)\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"dominant-baseline\", \"middle\")\n      .attr(\"fill\", \"#333\")\n      .attr(\"font-size\", \"14\")\n      .attr(\"font-weight\", \"bold\");\n\n    // 更新所有标签\n    const labelUpdate = labelEnter.merge(labelSelection);\n\n    labelUpdate\n      .transition()\n      .duration(this.options.animationDuration)\n      .attr(\n        \"y\",\n        (d) =>\n          this.calculateTimelineOffsetY(d) + this.options.timelineHeight / 2,\n      )\n      .text((d) => d.name);\n\n    // 移除旧标签\n    labelSelection\n      .exit()\n      .transition()\n      .duration(this.options.animationDuration)\n      .style(\"opacity\", 0)\n      .remove();\n  }\n\n  private handleZoom(event: d3.D3ZoomEvent<SVGSVGElement, unknown>): void {\n    const { transform } = event;\n\n    const xScaleR = transform.rescaleX(this.xScale);\n\n    // 只更新需要重新定位的元素，不重新创建\n    this.updateTimelinePositions();\n    this.updateEventPositions(xScaleR);\n\n    // 更新阶段线位置\n    this.updateStageLinePositions(xScaleR);\n\n    // 更新timeline背景宽度和线条长度\n    const timelineWidth = this.getTimelineInnerWidth();\n    this.timelineGroup\n      .selectAll<SVGRectElement, TimelineData>(\".d3-timeline-bg\")\n      .attr(\"width\", timelineWidth)\n      .attr(\"fill\", `url(#timelineGradient-${this.options.id})`);\n\n    this.timelineGroup\n      .selectAll<SVGLineElement, TimelineData>(\".d3-timeline-line\")\n      .attr(\"x2\", this.options.margin.left + timelineWidth);\n\n    // 重新渲染轴以更新刻度和格式\n    this.renderAxis(xScaleR);\n    this.renderGrid(xScaleR);\n\n    this.lastTransform = transform;\n  }\n\n  private renderEvents(): void {\n    const eventSelection = this.eventGroup\n      .selectAll<SVGGElement, EventData>(\".event\")\n      .data(this.events, (d) => d.id.toString());\n\n    // 进入新事件\n    const eventEnter = eventSelection\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"event\");\n\n    // 范围事件\n    const rangeEvents = eventEnter.filter((d) => d.type === \"range\");\n\n    rangeEvents\n      .append(\"rect\")\n      .attr(\"class\", \"d3-event-range\")\n      .attr(\"height\", 30)\n      .attr(\"y\", -15)\n      .attr(\"rx\", 6)\n      .attr(\"filter\", `url(#drop-shadow-${this.options.id})`);\n\n    rangeEvents\n      .append(\"text\")\n      .attr(\"class\", \"d3-event-text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"dominant-baseline\", \"middle\")\n      .attr(\"fill\", \"white\")\n      .attr(\"y\", 0);\n\n    // 点事件\n    const pointEvents = eventEnter.filter((d) => d.type === \"point\");\n\n    pointEvents\n      .append(\"circle\")\n      .attr(\"class\", \"d3-event-point\")\n      .attr(\"r\", 8)\n      .attr(\"stroke\", \"white\")\n      .attr(\"stroke-width\", 2)\n      .attr(\"filter\", `url(#drop-shadow-${this.options.id})`);\n\n    pointEvents\n      .append(\"text\")\n      .attr(\"class\", \"d3-event-text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"fill\", \"#333\")\n      .attr(\"y\", -20);\n\n    // 更新所有事件\n    const eventUpdate = eventEnter.merge(eventSelection);\n\n    eventUpdate\n      .transition()\n      .duration(this.options.animationDuration)\n      .attr(\"transform\", (d) => {\n        const timeline = this.timelines.find((t) => t.id === d.timelineId);\n        const x = this.xScale(d.startTime);\n        const y = timeline\n          ? this.calculateTimelineOffsetY(timeline) +\n            this.options.timelineHeight\n          : 0;\n        return `translate(${x}, ${y})`;\n      });\n\n    // 更新范围事件\n    eventUpdate\n      .select(\".d3-event-range\")\n      .attr(\"x\", 0)\n      .attr(\"width\", (d) => {\n        const endX = this.xScale(d.endTime);\n        const startX = this.xScale(d.startTime);\n        return Math.max(5, endX - startX);\n      })\n      .attr(\"fill\", (d) => d.color);\n\n    eventUpdate\n      .select(\".d3-event-text\")\n      .filter((d) => d.type === \"range\")\n      .attr(\"x\", (d) => {\n        const endX = this.xScale(d.endTime);\n        const startX = this.xScale(d.startTime);\n        return (endX - startX) / 2;\n      })\n      .text((d) => d.title);\n\n    // 更新点事件\n    eventUpdate\n      .select(\".d3-event-point\")\n      .attr(\"cx\", 0)\n      .attr(\"cy\", 0)\n      .attr(\"fill\", (d) => d.color);\n\n    eventUpdate\n      .select(\".d3-event-text\")\n      .filter((d) => d.type === \"point\")\n      .attr(\"x\", 0)\n      .text((d) => d.title);\n\n    // 添加交互\n    eventUpdate\n      .on(\"mouseover\", (event: MouseEvent, d: EventData) => {\n        const element = event.currentTarget as SVGGElement;\n        this.showTooltip(event, d, element);\n      })\n      .on(\"mouseout\", () => this.hideTooltip());\n\n    // 移除旧事件\n    eventSelection\n      .exit()\n      .transition()\n      .duration(this.options.animationDuration)\n      .style(\"opacity\", 0)\n      .remove();\n  }\n\n  private generatePathSegment(\n    start: { x: number; y: number },\n    end: { x: number; y: number },\n    pathType: string,\n  ): string {\n    switch (pathType) {\n      case \"arc\":\n        const midX = (start.x + end.x) / 2;\n        const arcHeight = Math.abs(end.x - start.x) * 0.2;\n        return ` Q ${midX} ${Math.min(start.y, end.y) - arcHeight} ${end.x} ${end.y}`;\n\n      case \"fluid\":\n        const cp1x = start.x + (end.x - start.x) * 0.5;\n        const cp1y = start.y;\n        const cp2x = start.x + (end.x - start.x) * 0.5;\n        const cp2y = end.y;\n        return ` C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${end.x} ${end.y}`;\n\n      case \"magnet\":\n        const midY = (start.y + end.y) / 2;\n        return ` L ${start.x} ${midY} L ${end.x} ${midY} L ${end.x} ${end.y}`;\n\n      case \"grid\":\n        const offset = 30;\n        if (Math.abs(start.y - end.y) < 5) {\n          return ` L ${end.x} ${end.y}`;\n        }\n        return ` L ${start.x + offset} ${start.y} L ${start.x + offset} ${end.y} L ${end.x} ${end.y}`;\n\n      case \"straight\":\n      default:\n        return ` L ${end.x} ${end.y}`;\n    }\n  }\n\n  // 更新阶段线位置（用于缩放时）\n  private updateStageLinePositions(xScale: d3.ScaleTime<number, number>): void {\n    const stageGroups = new Map<string | number, EventData[]>();\n\n    this.events.forEach((event) => {\n      if (event.stage) {\n        const key = event.stage.id;\n        if (!stageGroups.has(key)) {\n          stageGroups.set(key, []);\n        }\n        stageGroups.get(key)!.push(event);\n      }\n    });\n\n    const params = this.options.stageLineParams;\n\n    stageGroups.forEach((events, stageId) => {\n      events.sort((a, b) => (a.stage!.index || 0) - (b.stage!.index || 0));\n      if (events.length < 2) return;\n\n      const group = this.stageLineGroup.select<SVGGElement>(\n        `.stage-${stageId}`,\n      );\n      if (group.empty()) return;\n\n      // 清空 group 并重新绘制（因为 zoom 改变了 x 坐标）\n      group.selectAll(\"*\").remove();\n\n      const points = events.map((event) => {\n        const timeline = this.timelines.find((t) => t.id === event.timelineId);\n        const x = xScale(event.startTime);\n        const y = timeline\n          ? this.calculateTimelineOffsetY(timeline) +\n            this.options.timelineHeight / 2\n          : 0;\n        const width =\n          event.type === \"range\"\n            ? xScale(event.endTime) - xScale(event.startTime)\n            : 0;\n        return { x, y, event, width };\n      });\n\n      let pathData = \"\";\n      for (let i = 0; i < points.length - 1; i++) {\n        const start = points[i];\n        const end = points[i + 1];\n        const segment = this.generatePathSegment(start, end, params.path);\n        if (i === 0) pathData += `M ${start.x} ${start.y}`;\n        pathData += segment;\n      }\n\n      // 在 group 中重新绘制路径\n      group\n        .append(\"path\")\n        .attr(\"class\", \"stage-path\")\n        .attr(\"d\", pathData)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", params.color)\n        .attr(\"stroke-width\", params.size)\n        .attr(\"stroke-dasharray\", params.dash ? \"5,5\" : null);\n\n      // 在 group 中重新绘制箭头\n      if (params.arrow) {\n        for (let i = 0; i < points.length - 1; i++) {\n          this.drawArrowInGroup(\n            group,\n            points[i],\n            points[i + 1],\n            params,\n            params.path,\n          );\n        }\n      }\n    });\n  }\n\n  private renderStageLines(): void {\n    if (!this.stageLinesVisible) return;\n    this.stageLineGroup.selectAll(\"*\").remove();\n\n    const stageGroups = new Map<string | number, EventData[]>();\n\n    this.events.forEach((event) => {\n      if (event.stage) {\n        const key = event.stage.id;\n        if (!stageGroups.has(key)) {\n          stageGroups.set(key, []);\n        }\n        stageGroups.get(key)!.push(event);\n      }\n    });\n\n    const params = this.options.stageLineParams;\n\n    stageGroups.forEach((events, stageId) => {\n      events.sort((a, b) => (a.stage!.index || 0) - (b.stage!.index || 0));\n      if (events.length < 2) return;\n\n      // 为每个 stage 创建 group\n      const stageGroup = this.stageLineGroup\n        .append(\"g\")\n        .attr(\"class\", `stage-line-group stage-${stageId}`);\n\n      const points = events.map((event) => {\n        const timeline = this.timelines.find((t) => t.id === event.timelineId);\n        const x = this.xScale(event.startTime);\n        const y = timeline\n          ? this.calculateTimelineOffsetY(timeline) +\n            this.options.timelineHeight / 2\n          : 0;\n        const width =\n          event.type === \"range\"\n            ? this.xScale(event.endTime) - this.xScale(event.startTime)\n            : 0;\n        return { x, y, event, width };\n      });\n\n      let pathData = \"\";\n      for (let i = 0; i < points.length - 1; i++) {\n        const start = points[i];\n        const end = points[i + 1];\n        const segment = this.generatePathSegment(start, end, params.path);\n        if (i === 0) pathData += `M ${start.x} ${start.y}`;\n        pathData += segment;\n      }\n\n      // 路径放入 group\n      const path = stageGroup\n        .append(\"path\")\n        .attr(\"class\", \"stage-path\")\n        .attr(\"d\", pathData)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", params.color)\n        .attr(\"stroke-width\", params.size)\n        .attr(\"stroke-dasharray\", params.dash ? \"5,5\" : null)\n        .style(\"opacity\", 0);\n\n      path\n        .transition()\n        .duration(this.options.animationDuration)\n        .style(\"opacity\", 1);\n\n      // 箭头放入同一个 group\n      if (params.arrow && points.length >= 2) {\n        for (let i = 0; i < points.length - 1; i++) {\n          this.drawArrowInGroup(\n            stageGroup,\n            points[i],\n            points[i + 1],\n            params,\n            params.path,\n          );\n        }\n      }\n\n      if (params.animation) {\n        const totalLength =\n          (path.node() as SVGPathElement)?.getTotalLength() || 0;\n        path\n          .attr(\"stroke-dasharray\", `${totalLength} ${totalLength}`)\n          .attr(\"stroke-dashoffset\", totalLength)\n          .transition()\n          .duration(2000)\n          .ease(d3.easeLinear)\n          .attr(\"stroke-dashoffset\", 0)\n          .on(\"end\", function () {\n            d3.select(this).attr(\n              \"stroke-dasharray\",\n              params.dash ? \"5,5\" : null,\n            );\n          });\n      }\n    });\n  }\n\n  private drawArrowInGroup(\n    group: d3.Selection<SVGGElement, unknown, null, undefined>,\n    start: { x: number; y: number; event: EventData; width: number },\n    end: { x: number; y: number; event: EventData; width: number },\n    params: StageLineParams,\n    pathType: string,\n  ): void {\n    // 计算切线角度\n    let angle: number;\n    switch (pathType) {\n      case \"arc\": {\n        const midX = (start.x + end.x) / 2;\n        const arcHeight = Math.abs(end.x - start.x) * 0.2;\n        const controlY = Math.min(start.y, end.y) - arcHeight;\n        angle = Math.atan2(end.y - controlY, end.x - midX);\n        break;\n      }\n      case \"fluid\": {\n        const cp2x = start.x + (end.x - start.x) * 0.5;\n        const cp2y = end.y;\n        angle = Math.atan2(end.y - cp2y, end.x - cp2x);\n        break;\n      }\n      case \"magnet\":\n      case \"grid\":\n      case \"straight\":\n      default:\n        angle = Math.atan2(end.y - start.y, end.x - start.x);\n    }\n\n    // 计算箭头目标位置（考虑事件尺寸偏移）\n    let targetX = end.x;\n    let targetY = end.y;\n\n    if (end.event.type === \"point\") {\n      // 圆形半径8，沿反方向偏移8像素\n      targetX = end.x - 8 * Math.cos(angle);\n      targetY = end.y - 8 * Math.sin(angle);\n    } else if (end.event.type === \"range\") {\n      // 根据方向决定指向左边或右边的中点\n      // 如果从左到右（start.x < end.x），指向左边缘（往左偏移width/2）\n      // 如果从右到左（start.x > end.x），指向右边缘（往右偏移width/2）\n      const direction = start.x < end.x ? -1 : 1;\n      const offsetX = (end.width / 2) * direction;\n      targetX = end.x + offsetX;\n      targetY = end.y; // 垂直中点\n    }\n\n    // 绘制箭头（以 targetX, targetY 为顶点，沿 angle 反方向）\n    const arrowLength = 10;\n    const arrowAngle = Math.PI / 6;\n\n    const x1 = targetX - arrowLength * Math.cos(angle - arrowAngle);\n    const y1 = targetY - arrowLength * Math.sin(angle - arrowAngle);\n    const x2 = targetX - arrowLength * Math.cos(angle + arrowAngle);\n    const y2 = targetY - arrowLength * Math.sin(angle + arrowAngle);\n\n    group\n      .append(\"path\")\n      .attr(\"class\", \"stage-arrow\")\n      .attr(\n        \"d\",\n        `M ${targetX} ${targetY} L ${x1} ${y1} M ${targetX} ${targetY} L ${x2} ${y2}`,\n      )\n      .attr(\"stroke\", params.color)\n      .attr(\"stroke-width\", params.size)\n      .attr(\"fill\", \"none\");\n  }\n\n  private renderAxis(xScale: d3.ScaleTime<number, number>): void {\n    this.xAxis = d3\n      .axisBottom<Date>(xScale)\n      .ticks(this.options.width / 80)\n      .tickSizeOuter(0);\n\n    // 重新渲染轴\n    this.axisGroup.call(this.xAxis);\n  }\n\n  private showTooltip(\n    _: MouseEvent,\n    data: EventData,\n    element: SVGGElement,\n  ): void {\n    this.tooltip.transition().duration(200).style(\"opacity\", 1);\n\n    const timeline = this.timelines.find((t) => t.id === data.timelineId);\n    const content = `\n            <strong>${data.title}</strong><br>\n            ${data.description ? data.description + \"<br>\" : \"\"}\n            时间线: ${timeline ? timeline.name : \"未知\"}<br>\n            开始: ${data.startTime.toLocaleString(\"zh-CN\")}<br>\n            ${data.type === \"range\" ? `结束: ${data.endTime.toLocaleString(\"zh-CN\")}` : \"\"}\n        `;\n\n    this.tooltip.html(content);\n    const margin = 8;\n    // 获取被悬停元素的位置信息\n    const rect = element.getBoundingClientRect();\n    const tooltipNode = this.tooltip.node();\n    if (!tooltipNode) return;\n    const tooltipRect = tooltipNode.getBoundingClientRect();\n\n    // 计算位置：优先显示在元素上方，水平居中\n    let left = rect.left + rect.width / 2 - tooltipRect.width / 2;\n    let top = rect.top - tooltipRect.height - margin; // 10px 间距\n\n    // 如果上方空间不足（会超出视口顶部），则显示在元素下方\n    if (top < 0) {\n      top = rect.bottom + margin;\n    }\n\n    // 水平边界检查：防止超出视口左右边缘\n    if (left < margin) {\n      left = margin;\n    } else if (left + tooltipRect.width > window.innerWidth - margin) {\n      left = window.innerWidth - tooltipRect.width - margin;\n    }\n\n    this.tooltip.style(\"left\", left + \"px\").style(\"top\", top + \"px\");\n  }\n\n  private hideTooltip(): void {\n    this.tooltip.transition().duration(200).style(\"opacity\", 0);\n  }\n\n  private async scaleTo(range: TimeRange) {\n    const fullDiffTime =\n      this.timeRange.end.getTime() - this.timeRange.start.getTime();\n    const startTime = range.start.getTime();\n    const endTime = range.end.getTime();\n    const diffTime = endTime - startTime;\n    const oneday = 24 * 60 * 60 * 1000;\n    const k = fullDiffTime / (diffTime + oneday);\n    const midDate = new Date((startTime + endTime) / 2);\n    return await this.svg\n      .call(this.zoom)\n      .transition()\n      .duration(500)\n      .call(this.zoom.scaleTo, k, [this.xScale(midDate), 0])\n      .end();\n  }\n\n  private async translateTo(range: TimeRange) {\n    const startTime = range.start.getTime();\n    const endTime = range.end.getTime();\n    const midDate = new Date((startTime + endTime) / 2);\n\n    return await this.svg\n      .call(this.zoom)\n      .transition()\n      .duration(500)\n      .call(this.zoom.translateTo, this.xScale(midDate), 0)\n      .end();\n  }\n\n  /**\n   * 根据数据自动适应窗口显示范围\n   */\n  public async fitRange() {\n    const range = d3.extent(\n      this.events.flatMap((e) => [e.startTime, e.endTime]),\n    );\n    if (range[0] && range[1]) {\n      const targetRange = { start: range[0], end: range[1] };\n      try {\n        await this.translateTo(targetRange);\n        await this.scaleTo(targetRange);\n      } catch (e: any) {\n        this.logger.warn(\"Cautch fitRange error: \" + String(e));\n      }\n    }\n  }\n  /**\n   * 显示阶段连线\n   */\n  public showStageLines() {\n    // TODO: 待完成\n    this.stageLinesVisible = true;\n    this.stageLineGroup.attr(\"style\", \"display: ''\");\n  }\n  /**\n   * 隐藏阶段连线\n   */\n  public hideStageLines() {\n    // TODO: 待完成\n    this.stageLinesVisible = false;\n    this.stageLineGroup.attr(\"style\", \"display: none\");\n  }\n\n  /**\n   * 设置缩放级别\n   * @param {number} zoom - 缩放比例值，大于1表示放大，小于1表示缩小\n   * @returns {void}\n   */\n  public setZoom(zoom: number): void {\n    const transform = d3.zoomIdentity.scale(zoom);\n    this.svg\n      .transition()\n      .duration(this.options.animationDuration)\n      .call(this.zoom.transform, transform);\n  }\n\n  /**\n   * 重置视图为初始状态\n   * @returns {void}\n   */\n  public resetView(): void {\n    this.fitRange();\n  }\n\n  /**\n   * 响应式调整大小 - 根据容器尺寸重新计算并渲染\n   * @returns {void}\n   */\n  public resize(): void {\n    const containerNode = this.container.node() as HTMLElement;\n    this.options.width = containerNode.clientWidth || this.options.width;\n    this.options.height = this.calculateHeight();\n\n    this.svg\n      .attr(\"viewBox\", [0, 0, this.options.width, this.options.height])\n      .attr(\"width\", this.options.width)\n      .attr(\"height\", this.options.height);\n    this.svg\n      .select(`#main-clip-rect-${this.options.id}`)\n      .attr(\"width\", this.getTimelineInnerWidth())\n      .attr(\"height\", clamp(this.getTimelineInnerHeight(), 0, Infinity));\n\n    this.setupScales();\n\n    this.axisGroup.attr(\n      \"transform\",\n      `translate(0, ${this.options.height - this.options.margin.bottom - this.options.axisHeight})`,\n    );\n\n    this.zoom\n      .extent([\n        [this.options.margin.left, 0],\n        [this.options.width - this.options.margin.right, this.options.height],\n      ])\n      .translateExtent([\n        [this.options.margin.left, -Infinity],\n        [this.options.width - this.options.margin.right, Infinity],\n      ]);\n\n    this.gridGroup.attr(\n      \"y2\",\n      this.options.height -\n        this.options.margin.bottom -\n        this.options.axisHeight,\n    );\n\n    this.render(true);\n    this.fitRange();\n  }\n\n  /**\n   * 设置时间轴显示的时间范围\n   * @param {Date} start - 开始时间\n   * @param {Date} end - 结束时间\n   * @returns {void}\n   * @throws {Error} 如果开始时间晚于结束时间\n   */\n  public setTimeRange(start: Date, end: Date): void {\n    this.timeRange = { start, end };\n    this.xScale.domain([start, end]);\n    this.render();\n  }\n\n  /**\n   * 获取所有时间轴数据的副本\n   * @returns {TimelineData[]} 时间轴数组的深拷贝\n   */\n  public getTimelines(): TimelineData[] {\n    return [...this.timelines];\n  }\n\n  /**\n   * 获取所有事件数据的副本\n   * @returns {EventData[]} 事件数组的深拷贝\n   */\n  public getEvents(): EventData[] {\n    return [...this.events];\n  }\n\n  /**\n   * 导出当前时间轴和事件的完整状态数据\n   * @returns {ExportData} 包含时间轴、事件和时间范围的对象\n   */\n  public exportData(): ExportData {\n    return {\n      timelines: [...this.timelines],\n      events: [...this.events],\n      timeRange: { ...this.timeRange },\n    };\n  }\n  /**\n   * 导出当前时间轴和事件的完整状态数据并序列化为字符串\n   * @param autoFormat 是否进行JSON格式化\n   * @returns {string} 序列化的数据\n   */\n  public exportDataString(autoFormat = false): string {\n    return new JSONSerializer({ space: autoFormat ? 2 : 0 }).stringify(\n      this.exportData(),\n    );\n  }\n\n  /**\n   * 导入时间轴数据，会覆盖现有数据\n   * @param {ExportData} data - 要导入的数据对象\n   * @returns {boolean} 成功返回true，失败返回false\n   */\n  public importData(data: ExportData): boolean {\n    try {\n      this.timelines = [...data.timelines];\n      this.events = [...data.events];\n      this.timeRange = { ...data.timeRange };\n      this.xScale.domain([this.timeRange.start, this.timeRange.end]);\n      this.resize();\n      return true;\n    } catch (error: any) {\n      this.logger.error(`数据导入失败: ${error.message}`);\n      return false;\n    }\n  }\n  /**\n   * 导入时间轴数据，会覆盖现有数据\n   * @param {string} data 要导入的数据对象\n   * @returns {boolean} 成功返回true，失败返回false\n   */\n  public importDataString(data: string): boolean {\n    return this.importData(new JSONSerializer().parse(data));\n  }\n\n  /**\n   * 销毁时间轴实例，清理DOM元素和事件监听器\n   * @returns {void}\n   */\n  public destroy(): void {\n    this.removeEventListeners();\n    this.tooltip.remove();\n    this.svg.remove();\n  }\n  /**\n   * 插件集合\n   */\n  public static plugins: D3TimelinePlugin[] = [];\n}\n\n// 默认导出\nexport default D3Timeline;\n","// example.ts\nimport { Locale } from \"../src/D3LocaleDefinitions\";\nimport D3Timeline from \"../src/D3Timeline\";\nimport \"../src/D3Timeline.css\";\nimport \"./example.css\";\n// 演示代码\nlet projectTimeline: D3Timeline;\nlet versionsTimeline: D3Timeline;\nlet eventLog: LogEntry[] = [];\n\ninterface LogEntry {\n  timestamp: number | string;\n  message: any;\n  type: string;\n}\n\nfunction initDemo() {\n  initProjectTimeline();\n  initVersionsTimeline();\n}\n\nfunction initProjectTimeline() {\n  const container = document.getElementById(\n    \"project-timeline\",\n  ) as HTMLDivElement;\n  projectTimeline = new D3Timeline(container);\n\n  // 添加时间线\n  projectTimeline.addTimeline(\"产品运营\", \"#4facfe\", \"stage3\");\n  projectTimeline.addTimeline(\"市场推广\", \"#f093fb\", \"stage2\");\n  projectTimeline.addTimeline(\"项目开发\", \"#667eea\", \"stage1\");\n\n  // 添加示例事件\n  projectTimeline.addEvents([\n    {\n      title: \"项目启动\",\n      description: \"正式开始项目开发\",\n      startTime: new Date(\"2026-01-15\"),\n      color: \"#667eea\",\n      timelineId: \"stage1\",\n    },\n    {\n      title: \"功能开发\",\n      description: \"核心功能开发\",\n      startTime: new Date(\"2026-01-25\"),\n      color: \"#667eea\",\n      timelineId: \"stage1\",\n    },\n    {\n      title: \"项目内测\",\n      description: \"项目内部使用\",\n      startTime: new Date(\"2026-02-10\"),\n      color: \"#667eea\",\n      timelineId: \"stage1\",\n    },\n    // ===== 市场推广阶段（项目试用后启动）=====\n    {\n      title: \"推广策划\",\n      description: \"制定市场推广策略\",\n      startTime: new Date(\"2026-03-05\"),\n      color: \"#f093fb\",\n      timelineId: \"stage2\",\n    },\n    {\n      title: \"内容制作\",\n      description: \"制作推广物料和内容\",\n      startTime: new Date(\"2026-03-15\"),\n      color: \"#f093fb\",\n      timelineId: \"stage2\",\n    },\n    {\n      title: \"渠道投放\",\n      description: \"多渠道推广投放\",\n      startTime: new Date(\"2026-04-01\"),\n      color: \"#f093fb\",\n      timelineId: \"stage2\",\n    },\n    {\n      title: \"效果分析\",\n      description: \"分析推广效果数据\",\n      startTime: new Date(\"2026-04-20\"),\n      color: \"#f093fb\",\n      timelineId: \"stage2\",\n    },\n\n    // ===== 产品运营阶段（推广开始后启动）=====\n    {\n      title: \"运营规划\",\n      description: \"制定产品运营方案\",\n      startTime: new Date(\"2026-03-10\"),\n      color: \"#4facfe\",\n      timelineId: \"stage3\",\n    },\n    {\n      title: \"用户反馈收集\",\n      description: \"收集用户试用反馈\",\n      startTime: new Date(\"2026-03-25\"),\n      color: \"#4facfe\",\n      timelineId: \"stage3\",\n    },\n    {\n      title: \"数据分析\",\n      description: \"用户行为数据分析\",\n      startTime: new Date(\"2026-04-15\"),\n      color: \"#4facfe\",\n      timelineId: \"stage3\",\n    },\n    {\n      title: \"运营优化\",\n      description: \"优化运营策略\",\n      startTime: new Date(\"2026-05-01\"),\n      color: \"#4facfe\",\n      timelineId: \"stage3\",\n    },\n    {\n      title: \"用户回访\",\n      description: \"阶段性用户回访\",\n      startTime: new Date(\"2026-05-05\"),\n      endTime: new Date(\"2026-05-15\"),\n      color: \"#4facfe\",\n      timelineId: \"stage3\",\n    },\n  ]);\n\n  // 缩放控制\n  const zoomSlider = document.getElementById(\"zoomSlider\") as HTMLInputElement;\n  const zoomValue = document.getElementById(\"zoomValue\") as HTMLSpanElement;\n\n  zoomSlider.addEventListener(\"input\", (e) => {\n    const zoom = parseFloat((e.target as any).value);\n    projectTimeline.setZoom(zoom);\n    zoomValue.textContent = zoom.toFixed(1) + \"x\";\n  });\n\n  // 监听D3缩放事件来更新滑块\n  projectTimeline.on(\"zoom.end\", ({ scale }) => {\n    zoomSlider.value = String(scale);\n    zoomValue.textContent = scale.toFixed(1) + \"x\";\n  });\n\n  projectTimeline.on(\"click\", ({ data }) => {\n    logEvent(`\"${data.title}\"被点击`, \"system\");\n  });\n\n  logEvent(\"D3.js时间轴初始化完成\", \"system\");\n}\n\nfunction initVersionsTimeline() {\n  const container = document.getElementById(\n    \"versions-timeline\",\n  ) as HTMLDivElement;\n  versionsTimeline = new D3Timeline(container);\n\n  // 添加时间线\n  versionsTimeline.addTimeline(\"项目内测\", \"#4facfe\", \"beta_line\");\n  versionsTimeline.addTimeline(\"功能开发\", \"#f093fb\", \"develop_line\");\n  versionsTimeline.addTimeline(\"项目启动\", \"#667eea\", \"start_line\");\n\n  versionsTimeline.addEvents([\n    {\n      title: \"项目启动(第一阶段)\",\n      description: \"启动项目开发的第一阶段\",\n      startTime: new Date(\"2026-01-15\"),\n      color: \"#667eea\",\n      timelineId: \"start_line\",\n      stage: { id: 1, index: 0 },\n    },\n    {\n      title: \"功能开发(第一阶段)\",\n      description: \"功能开发\",\n      startTime: new Date(\"2026-01-21\"),\n      color: \"#f093fb\",\n      timelineId: \"develop_line\",\n      stage: { id: 1, index: 1 },\n    },\n    {\n      title: \"项目内测(第一阶段)\",\n      description: \"项目内测\",\n      startTime: new Date(\"2026-02-25\"),\n      color: \"#4facfe\",\n      timelineId: \"beta_line\",\n      stage: { id: 1, index: 2 },\n    },\n    {\n      title: \"项目启动(第二阶段)\",\n      description: \"启动项目开发的第二阶段\",\n      startTime: new Date(\"2026-02-01\"),\n      color: \"#667eea\",\n      timelineId: \"start_line\",\n      stage: { id: 2, index: 0 },\n    },\n    {\n      title: \"功能开发(第二阶段)\",\n      description: \"功能开发\",\n      startTime: new Date(\"2026-02-10\"),\n      color: \"#f093fb\",\n      timelineId: \"develop_line\",\n      stage: { id: 2, index: 1 },\n    },\n    {\n      title: \"项目内测(第二阶段)\",\n      description: \"项目内测\",\n      startTime: new Date(\"2026-03-10\"),\n      color: \"#4facfe\",\n      timelineId: \"beta_line\",\n      stage: { id: 2, index: 2 },\n    },\n    {\n      title: \"项目启动(第三阶段)\",\n      description: \"启动项目开发的第三阶段\",\n      startTime: new Date(\"2026-03-15\"),\n      color: \"#667eea\",\n      timelineId: \"start_line\",\n      stage: { id: 3, index: 0 },\n    },\n    {\n      title: \"功能开发(第三阶段)\",\n      description: \"功能开发\",\n      startTime: new Date(\"2026-03-21\"),\n      color: \"#f093fb\",\n      timelineId: \"develop_line\",\n      stage: { id: 3, index: 1 },\n    },\n    {\n      title: \"项目内测(第三阶段)\",\n      description: \"项目内测\",\n      startTime: new Date(\"2026-04-21\"),\n      color: \"#4facfe\",\n      timelineId: \"beta_line\",\n      stage: { id: 3, index: 2 },\n    },\n  ]);\n}\n\nfunction addRandomEvent() {\n  if (projectTimeline.getTimelines().length === 0) {\n    logEvent(\"请先添加时间线\", \"warning\");\n    return;\n  }\n\n  const timelineIndex = Math.floor(\n    Math.random() * projectTimeline.getTimelines().length,\n  );\n  const selectedTimeline = projectTimeline.getTimelines()[timelineIndex];\n\n  const startDate = new Date(\"2026-01-01\");\n  const endDate = new Date(\"2026-12-31\");\n  const randomDate = new Date(\n    startDate.getTime() +\n      Math.random() * (endDate.getTime() - startDate.getTime()),\n  );\n\n  const event = projectTimeline.addEvent(\n    {\n      title: `事件 ${Math.floor(Math.random() * 100)}`,\n      description: \"这是一个随机添加的事件\",\n      startTime: randomDate,\n      color: selectedTimeline.color,\n    },\n    selectedTimeline.id,\n  );\n\n  logEvent(\n    `在时间线 \"${selectedTimeline.name}\" 上添加了事件: ${event?.title}`,\n    \"point\",\n  );\n}\n\nfunction addRandomRangeEvent() {\n  if (projectTimeline.getTimelines().length === 0) {\n    logEvent(\"请先添加时间线\", \"warning\");\n    return;\n  }\n\n  const timelineIndex = Math.floor(\n    Math.random() * projectTimeline.getTimelines().length,\n  );\n  const selectedTimeline = projectTimeline.getTimelines()[timelineIndex];\n\n  const startDate = new Date(\"2026-01-01\");\n  const endDate = new Date(\"2026-12-31\");\n  const startTime = new Date(\n    startDate.getTime() +\n      Math.random() * (endDate.getTime() - startDate.getTime()),\n  );\n  const endTime = new Date(\n    startTime.getTime() + Math.random() * 30 * 24 * 60 * 60 * 1000,\n  );\n\n  const event = projectTimeline.addEvent(\n    {\n      title: `范围事件 ${Math.floor(Math.random() * 100)}`,\n      description: \"这是一个随机添加的范围事件\",\n      startTime: startTime,\n      endTime: endTime,\n      color: selectedTimeline.color,\n    },\n    selectedTimeline.id,\n  );\n\n  logEvent(\n    `在时间线 \"${selectedTimeline.name}\" 上添加了范围事件: ${event?.title}`,\n    \"range\",\n  );\n}\n\nfunction addTimeline() {\n  const colors = [\n    \"#667eea\",\n    \"#f093fb\",\n    \"#4facfe\",\n    \"#43e97b\",\n    \"#fa709a\",\n    \"#fee140\",\n  ];\n  const names = [\"开发\", \"设计\", \"测试\", \"运维\", \"市场\", \"销售\"];\n\n  const randomColor = colors[Math.floor(Math.random() * colors.length)];\n  const randomName = names[Math.floor(Math.random() * names.length)] + \"时间线\";\n\n  const newTimeline = projectTimeline.addTimeline(randomName, randomColor);\n  logEvent(`添加了新的时间线: ${newTimeline.name}`, \"system\");\n}\n\nfunction removeTimeline() {\n  if (projectTimeline.getTimelines().length > 0) {\n    const removedTimeline =\n      projectTimeline.getTimelines()[projectTimeline.getTimelines().length - 1];\n    projectTimeline.removeTimeline(removedTimeline.id);\n    logEvent(`删除了时间线: ${removedTimeline.name}`, \"system\");\n  } else {\n    logEvent(\"没有可删除的时间线\", \"warning\");\n  }\n}\n\nfunction resetView() {\n  projectTimeline.resetView();\n  const zoomSlider = document.getElementById(\"zoomSlider\") as HTMLInputElement;\n  zoomSlider.value = \"1\";\n  const zoomValue = document.getElementById(\"zoomValue\") as HTMLSpanElement;\n  zoomValue.textContent = \"1.0x\";\n  logEvent(\"视图已重置\", \"system\");\n}\n\nfunction exportData() {\n  const data = projectTimeline.exportDataString();\n  const blob = new Blob([data], { type: \"application/json\" });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = \"projectTimeline-data.json\";\n  a.click();\n  URL.revokeObjectURL(url);\n  logEvent(\"数据已导出\", \"system\");\n}\n\nfunction importData() {\n  const input = document.createElement(\"input\");\n  input.type = \"file\";\n  input.accept = \".json\";\n  input.onchange = (e) => {\n    const file = (e.target as any).files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const textContent = (e.target as any).result;\n        const success = projectTimeline.importDataString(textContent);\n        if (success) {\n          logEvent(\"数据导入成功\", \"system\");\n        } else {\n          logEvent(\"数据导入失败\", \"error\");\n        }\n      };\n      reader.readAsText(file);\n    }\n  };\n  input.click();\n}\n\nfunction toggleStageLines() {\n  versionsTimeline.isStageLineVisible\n    ? versionsTimeline.hideStageLines()\n    : versionsTimeline.showStageLines();\n}\n\nfunction changeLocale(newLocale: Locale) {\n  projectTimeline.changeLocale(newLocale);\n  versionsTimeline.changeLocale(newLocale);\n}\n\nfunction logEvent(message: any, type = \"info\") {\n  const timestamp = new Date().toLocaleTimeString(\"zh-CN\");\n  const logEntry = { message, type, timestamp };\n  eventLog.unshift(logEntry);\n\n  if (eventLog.length > 20) {\n    eventLog = eventLog.slice(0, 20);\n  }\n\n  updateEventLogDisplay();\n}\n\nfunction updateEventLogDisplay() {\n  const logContainer = document.getElementById(\"eventLog\") as HTMLDivElement;\n  logContainer.innerHTML = eventLog\n    .map(\n      (entry) => `\n    <div class=\"event-item ${entry.type === \"range\" ? \"range\" : \"\"}\">\n        <strong>[${entry.timestamp}]</strong> ${entry.message}\n    </div>\n`,\n    )\n    .join(\"\");\n}\n\n// 初始化演示\ndocument.addEventListener(\"DOMContentLoaded\", initDemo);\n\nwindow.addRandomEvent = addRandomEvent;\nwindow.addRandomRangeEvent = addRandomRangeEvent;\nwindow.addTimeline = addTimeline;\nwindow.removeTimeline = removeTimeline;\nwindow.resetView = resetView;\nwindow.exportData = exportData;\nwindow.importData = importData;\nwindow.toggleStageLines = toggleStageLines;\nwindow.changeLocale = changeLocale;\n"],"names":["ascending","a","b","descending","bisector","f","compare1","compare2","delta","d","x","zero","left","lo","hi","mid","right","center","i","number","ascendingBisect","bisectRight","extent","values","valueof","min","max","value","e10","e5","e2","tickSpec","start","stop","count","step","power","error","factor","i1","i2","inc","tickIncrement","tickStep","reverse","identity$3","bottom","epsilon","translateX","scale","offset","entering","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","context","format","identity","spacing","range","range0","range1","position","selection","path","tick","tickExit","tickEnter","line","text","p","_","axisBottom","noop","dispatch","n","t","Dispatch","parseTypenames","typenames","types","name","typename","callback","T","get","set","copy","type","that","args","c","xhtml","namespaces","namespace","prefix","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selector","selection_select","select","groups","m","subgroups","j","group","subgroup","node","subnode","Selection","array","empty","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","match","childFirst","selection_selectChild","filter","children","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","parent","datum","child","next","constant$2","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","key","nodeByKeyValue","keyValues","keyValue","selection_data","bind","constant","arraylike","enterGroup","updateGroup","exitGroup","i0","previous","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compare","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","v","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","create","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","clone","selection_cloneDeep","selection_clone","deep","selection_datum","contextListener","listener","event","onRemove","on","o","onAdd","options","selection_on","dispatchEvent","params","window","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","root","selection_selection","sourceEvent","pointer","svg","point","rect","nonpassivecapture","noevent$1","dragDisable","view","noevent","yesdrag","noclick","define","constructor","factory","prototype","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","l","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","rgb","opacity","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","h","s","Hsl","hsl","m2","hsl2rgb","clamph","clampt","constant$1","linear","exponential","y","gamma","nogamma","interpolateRgb","rgbGamma","end","colorRgb","numberArray","isNumberArray","genericArray","nb","na","date$1","interpolateNumber","object","reA","reB","one","interpolateString","bi","am","bm","bs","q","interpolate$1","date","interpolateRound","degrees","decompose","e","scaleX","scaleY","skewX","svgNode","parseCss","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","S","d1","b0","b1","r0","r1","coshr0","u","_1","_2","_4","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","now","clearNow","Timer","timer","delay","time","sleep","timerFlush","wake","nap","poke","t0","t1","t2","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id","index","timing","schedules","init","self","tween","interrupt","active","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","value1","string00","string1","interpolate0","string0","string10","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","styleNull","style","styleMaybeRemove","listener0","transition_style","styleInterpolate","styleTween","transition_styleTween","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","resolve","reject","cancel","selection_prototype","cubicInOut","defaultTiming","easeCubicInOut","selection_transition","initRange","domain","constants","unit","normalize","clamper","bimap","d0","polymap","bisect","source","target","transformer","interpolateValue","untransform","unknown","clamp","piecewise","output","input","rescale","continuous","nice","x0","x1","timeInterval","floori","offseti","field","test","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","timeMinute","utcMinute","timeHour","utcHour","timeDay","utcDay","unixDay","timeWeekday","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","utcWeekday","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","timeMonth","utcMonth","timeYear","utcYear","ticker","year","month","week","day","hour","minute","tickIntervals","ticks","tickInterval","timeTicks","timeTickInterval","localDate","utcDate","newDate","formatLocale","locale","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","newFormat","specifier","pad","pads","newParse","Z","parseSpecifier","numberRe","percentRe","requoteRe","fill","width","sign","length","requote","dISO","z","dow","UTCdISO","timeFormat","defaultLocale","calendar","invert","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","timeWeek","timeSecond","ZoomEvent","Transform","location","nopropagation","defaultFilter","defaultExtent","defaultTransform","defaultWheelDelta","defaultTouchable","defaultConstrain","translateExtent","dx0","dx1","dy0","dy1","constrain","wheelDelta","touchable","scaleExtent","duration","listeners","touchstarting","touchfirst","touchending","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","collection","gesture","k0","k1","centroid","w","clean","Gesture","wheelidled","currentTarget","mousemoved","mouseupped","y0","dragEnable","touches","started","l0","l1","dp","dl","generateID","num","charsTable","result","tableLength","debounce","fn","immediate","isInvoke","_debounce","Logger","logName","level","content","module","styles","parts","styleArgs","JSONSerializer","dateReplacer","subKey","subValue","obj","TimeLocaleDefinitions","D3Timeline","container","d3.select","currentDate","startDate","endDate","d3.timeFormatDefaultLocale","defs","gradient","feMerge","d3.scaleTime","d3.axisBottom","clipGroup","d3.pointer","height","excludeAxis","initialRange","minScale","maxScale","d3.zoom","plug","eventDom","eventData","timeline","xScale","endX","startX","eventType","handler","autofit","timelineConfigs","addedTimelines","config","timelineId","events","addedEvents","targetTimelineId","d3.ZoomTransform","force","timelineCount","eventCount","gridLines","timelineSelection","timelineEnter","timelineUpdate","labelSelection","xScaleR","timelineWidth","eventSelection","eventEnter","rangeEvents","pointEvents","eventUpdate","element","pathType","midX","arcHeight","cp1x","cp1y","cp2x","cp2y","midY","stageGroups","stageId","points","pathData","segment","stageGroup","totalLength","d3.easeLinear","angle","controlY","targetX","targetY","direction","offsetX","arrowLength","arrowAngle","y1","x2","y2","margin","tooltipNode","tooltipRect","top","fullDiffTime","startTime","endTime","diffTime","oneday","midDate","d3.extent","targetRange","d3.zoomIdentity","containerNode","autoFormat","projectTimeline","versionsTimeline","eventLog","initDemo","initProjectTimeline","initVersionsTimeline","zoomSlider","zoomValue","logEvent","addRandomEvent","timelineIndex","selectedTimeline","randomDate","addRandomRangeEvent","addTimeline","colors","randomColor","randomName","newTimeline","removeTimeline","removedTimeline","resetView","exportData","blob","url","importData","file","reader","textContent","toggleStageLines","changeLocale","newLocale","message","timestamp","logEntry","updateEventLogDisplay","logContainer","entry"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131]}